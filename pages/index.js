import React, { useState } from "react";
import { useInView } from "react-intersection-observer";
import Head from "next/head";
import Header from "../components/sections/Header";
import Home from "../components/sections/Home";
import Projects from "../components/sections/Projects";
import About from "../components/sections/About";
import Contact from "../components/sections/Contact";
import CommandLine from "../components/CommandLine";

export default function Index() {
  const [darkMode, setDarkMode] = useState(true);

  const sections = {
    home: {
      title: "Fabio Lima.",
      nav: "HOME",
      color: "gradient-oceanic",
      component: <Home />,
      vh: "100vh",
    },
    about: {
      title: "Sobre.",
      nav: "SOBRE",
      color: "gradient-mojave",
      component: <About />,
      vh: "100vh",
    },
    projects: {
      title: "Projetos.",
      nav: "PROJETOS",
      color: "gradient-hyper",
      component: <Projects />,
      vh: "100vh",
    },
    contact: {
      title: "Contato.",
      nav: "CONTATO",
      color: "gradient-candy",
      component: <Contact />,
      vh: "100vh",
    },
  };

  Object.keys(sections).forEach((key) => {
    [sections[key].ref, sections[key].inView] = useInView({
      threshold: 0.5,
    });
  });

  return (
    <div
      className={`${
        darkMode ? "dark-theme" : "light-theme"
      } box-border flex flex-col items-center bg-primary`}
    >
      <Head>
        <title>Fabio Lima</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header
        darkMode={darkMode}
        setDarkMode={setDarkMode}
        sections={sections}
      />
      <main className="w-full">
        <Home sections={sections} />
        <div className="h-screen">
          {/* <div className="relative bottom-80 m-auto h-96 w-3/4 rounded-3xl bg-gray-3">
            <h1 className="p-10 text-4xl font-bold text-white">Sobre mim</h1>
          </div> */}
        </div>
        {/* {Object.keys(sections).map((key) => {
          return (
            <section
              id={sections[key].nav}
              className={`h-screen w-full`}
              ref={sections[key].ref}
            >
              <SectionTitle
                key={sections[key].nav}
                titleWidth={titleWidth}
                setTitleWidth={setTitleWidth}
                section={sections[key]}
              />
              {sections[key].component}
            </section>
          );
        })} */}
        {/* <section>
          <Home
            setTitleWidth={setTitleWidth}
            titleWidth={titleWidth}
            section={projectsInView}
          />
        </section>
        <section ref={projectsRef}>
          <SectionTitle
            titleWidth={titleWidth}
            view={projectsInView}
            section={sections.projects}
          />
          <Projects section={projectsInView} />
        </section>
        <SectionTitle
          titleWidth={titleWidth}
          view={projectsInView}
          section={sections.skills}
        />
        <section className="h-screen w-full"></section> */}
        <CommandLine />
      </main>
    </div>
  );
}
